<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaza 101 Chatbot</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: transparent;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
    </style>
</head>
<body>
    <div id="chatbot-root"></div>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        
        const { useState, useRef, useEffect } = React;

        // Lucide Icons as inline SVGs
        const Send = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m22 2-7 20-4-9-9-4Z"/>
                <path d="M22 2 11 13"/>
            </svg>
        );

        const Bot = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M12 8V4H8"/>
                <rect width="16" height="12" x="4" y="8" rx="2"/>
                <path d="M2 14h2"/>
                <path d="M20 14h2"/>
                <path d="M15 13v2"/>
                <path d="M9 13v2"/>
            </svg>
        );

        const User = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
            </svg>
        );

        const MessageCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/>
            </svg>
        );

        const X = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M18 6 6 18"/>
                <path d="m6 6 12 12"/>
            </svg>
        );

        const GazaChatbot = () => {
            const [messages, setMessages] = useState([
                {
                    type: 'bot',
                    text: "üåç GAZA 101 - Crisis Assistant\n\nHi! I'm your AI assistant combining intelligence with accurate technical knowledge.\n\nI can analyze:\nüíß Water | üåæ Food | üè• Health | ‚ö° Energy | üèóÔ∏è Infrastructure | üåç CO2\n\nOr we can have natural conversations! What would you like to know?"
                }
            ]);
            const [input, setInput] = useState('');
            const [isOpen, setIsOpen] = useState(false);
            const [lastTopic, setLastTopic] = useState(null);
            const messagesEndRef = useRef(null);

            const scrollToBottom = () => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            };

            useEffect(() => {
                scrollToBottom();
            }, [messages]);

            const problemDescriptions = {
                water: `üíß **WATER CRISIS - The Problem**

**Critical Issues:**
‚Ä¢ 96% of water in Gaza is unfit for human consumption
‚Ä¢ Only 15-20 liters/person/day available (WHO minimum: 50-100 liters)
‚Ä¢ Coastal aquifer is 70% over-extracted with severe seawater intrusion
‚Ä¢ 85% of wastewater goes untreated, causing disease outbreaks

**Primary Challenges:**
- Aquifer contamination from conflict damage and sewage
- Damaged water infrastructure and distribution systems
- Limited electricity for water pumping and treatment
- High salinity levels (6x WHO safety standards)

**Would you like me to provide specific solutions for this challenge?**`,

                food: `üåæ **FOOD SECURITY CRISIS - The Problem**

**Critical Issues:**
‚Ä¢ 93% of Gaza's population faces crisis-level food insecurity
‚Ä¢ 30% of children under 5 are acutely malnourished
‚Ä¢ Local food production meets only 15% of population needs
‚Ä¢ Food prices have increased 300% compared to pre-crisis

**Primary Challenges:**
- 65% reduction in arable land since 2000 (NASA data)
- Damaged agricultural infrastructure and irrigation systems
- Limited access to seeds, fertilizers, and farming equipment
- Disrupted supply chains and distribution networks

**Would you like me to provide specific solutions for this challenge?**`,

                health: `üè• **HEALTHCARE CRISIS - The Problem**

**Critical Issues:**
‚Ä¢ 72% of hospitals in Gaza are non-functional
‚Ä¢ Only 12 partially functioning hospitals for 2.3 million people
‚Ä¢ Respiratory infections: 450,000 cases monthly
‚Ä¢ Diarrheal diseases: 150,000 cases in children monthly

**Primary Challenges:**
- Critical shortage of medical supplies, equipment, and medicines
- 80% of children show trauma symptoms, 50% of adults report severe distress
- Overwhelmed remaining healthcare facilities
- Limited access to specialized care and emergency services

**Would you like me to provide specific solutions for this challenge?**`,

                co2: `üåç **CO2 & ENVIRONMENTAL CRISIS - The Problem**

**Critical Issues:**
‚Ä¢ 450,000 tons of CO2 emissions from conflict activities (NASA data)
‚Ä¢ Air quality: PM2.5 levels 45-65 Œºg/m¬≥ (WHO safe limit: 15 Œºg/m¬≥)
‚Ä¢ 40% reduction in green spaces and carbon sequestration capacity
‚Ä¢ Temperature increase of 1.2¬∞C since 1990

**Primary Challenges:**
- Building destruction releasing concrete particulates and toxins
- Military operations consuming massive fuel resources
- Waste burning of plastics and hazardous materials
- Long-term environmental degradation and soil contamination

**Would you like me to provide specific solutions for this challenge?**`,

                energy: `‚ö° **ENERGY CRISIS - The Problem**

**Critical Issues:**
‚Ä¢ Average 2-4 hours of electricity daily across Gaza
‚Ä¢ Hospitals rely on unreliable generators for critical operations
‚Ä¢ Water pumps often inoperative due to power shortages
‚Ä¢ Limited fuel supplies for essential services

**Primary Challenges:**
- Damaged electrical grid infrastructure
- Limited access to reliable power sources
- High dependence on external fuel supplies
- Critical facilities operating at minimal capacity

**Would you like me to provide specific solutions for this challenge?**`,

                infrastructure: `üèóÔ∏è **INFRASTRUCTURE CRISIS - The Problem**

**Critical Issues:**
‚Ä¢ 60% of buildings damaged or destroyed in conflict areas
‚Ä¢ Road networks severely damaged affecting aid delivery
‚Ä¢ Communication infrastructure largely non-functional
‚Ä¢ Sanitation systems collapsed leading to health hazards

**Primary Challenges:**
- Comprehensive damage to housing, schools, and public facilities
- Limited construction materials and equipment for rebuilding
- Coordination challenges for large-scale reconstruction
- Need for temporary shelter solutions for displaced populations

**Would you like me to provide specific solutions for this challenge?**`
            };

            const solutions = {
                water: `üö∞ **WATER CRISIS SOLUTIONS**

**Immediate Actions (0-2 weeks):**
‚Ä¢ Distribute chlorine tablets (1 tablet per 20L water) - 2 weeks
‚Ä¢ Deploy portable filtration units in high-risk areas - 2 weeks
‚Ä¢ Establish emergency water distribution points - 1 week
‚Ä¢ Install solar-powered atmospheric water generators
‚Ä¢ Mobile desalination units powered by solar energy

**Short-term Solutions (2-8 weeks):**
‚Ä¢ Install rainwater harvesting systems - 1 month
‚Ä¢ Repair damaged water infrastructure - 2 months
‚Ä¢ Implement community water safety monitoring - 3 weeks
‚Ä¢ Artificial aquifer recharge using NASA satellite data
‚Ä¢ Precision irrigation systems guided by SMAP data

**Materials Needed:**
Chlorine tablets, ceramic filters, polyethylene tanks, solar panels, RO membranes, atmospheric water generators

**NASA Technology:** GRACE, SMAP, and Landsat data to identify groundwater levels and optimal locations for water infrastructure.`,

                food: `üå± **FOOD SECURITY SOLUTIONS**

**Immediate Actions (0-2 weeks):**
‚Ä¢ Distribute ready-to-use therapeutic food (RUTF) - Immediate
‚Ä¢ Establish emergency community kitchens - 2 weeks
‚Ä¢ Provide nutrition supplements for children - 1 week
‚Ä¢ Set up feeding centers for malnourished children
‚Ä¢ ORS (Oral Rehydration Solution) distribution

**Short-term Solutions (2-8 weeks):**
‚Ä¢ Start vertical farming with hydroponics - 6 weeks
‚Ä¢ Implement urban agriculture programs - 2 months
‚Ä¢ Deploy greenhouse systems - 1.5 months
‚Ä¢ Community gardening initiatives - 3 weeks
‚Ä¢ Seed and fertilizer distribution programs

**Materials Needed:**
RUTF packets, hydroponic kits, seeds (native drought-resistant), gardening tools, greenhouse materials, irrigation equipment

**NASA Technology:** MODIS vegetation indices to identify suitable agricultural zones and monitor crop health.`,

                health: `üè• **HEALTHCARE SOLUTIONS**

**Immediate Actions (0-2 weeks):**
‚Ä¢ Deploy mobile trauma units - 2 weeks
‚Ä¢ Distribute emergency medical kits - 1 week
‚Ä¢ Establish mental health first aid programs - 2 weeks
‚Ä¢ Set up temporary tent hospitals with triage systems
‚Ä¢ Rapid Response Teams for outbreak detection

**Short-term Solutions (2-8 weeks):**
‚Ä¢ Set up telemedicine networks - 1 month
‚Ä¢ Train community health workers - 3 weeks
‚Ä¢ Malnutrition screening programs - 2 weeks
‚Ä¢ Psychological First Aid (PFA) training - 1 month
‚Ä¢ Establish maternal and child health clinics

**Materials Needed:**
Medical equipment, telemedicine terminals, medicines, surgical supplies, oxygen concentrators, IV fluids, antibiotics, mental health resources

**Key Focus Areas:**
- Emergency care and trauma treatment
- Disease outbreak prevention
- Mental health support (PTSD, trauma counseling)
- Nutrition programs for children`,

                co2: `üåø **CO2 MITIGATION & ENVIRONMENTAL SOLUTIONS**

**Immediate Actions (0-2 weeks):**
‚Ä¢ Establish waste management systems - 2 weeks
‚Ä¢ Distribute clean cooking technologies - 1 week
‚Ä¢ Launch air quality monitoring stations - 1 week
‚Ä¢ Stop open burning of waste materials
‚Ä¢ Deploy portable air purifiers in high-risk areas

**Short-term Solutions (2-8 weeks):**
‚Ä¢ Implement solar energy microgrids - 1 month
‚Ä¢ Start reforestation programs (Project Re-Green Gaza) - 2 months
‚Ä¢ Enhanced weathering with basalt rock dust
‚Ä¢ Restore Wadi Gaza wetland and Green Belt dunes
‚Ä¢ Soil remediation for carbon sequestration

**Materials Needed:**
Solar panels, waste management equipment, native saplings (drought-resistant species), basalt rock dust, air quality sensors, clean cook stoves

**NASA Technology:**
- Landsat 8/9 for vegetation mapping
- MODIS for ecosystem monitoring
- AVIRIS for soil degradation assessment
- Data-driven re-vegetation targeting carbon sequestration zones`,

                energy: `‚ö° **ENERGY SOLUTIONS**

**Immediate Actions (0-2 weeks):**
‚Ä¢ Distribute portable solar power banks - 2 weeks
‚Ä¢ Deploy solar-powered lighting systems - 1 week
‚Ä¢ Provide generators to critical facilities (hospitals) - Immediate
‚Ä¢ Install battery storage for essential services
‚Ä¢ Fuel distribution for emergency operations

**Short-term Solutions (2-8 weeks):**
‚Ä¢ Install solar microgrids in neighborhoods - 1 month
‚Ä¢ Implement energy-efficient building designs - 2 months
‚Ä¢ Deploy wind-solar hybrid systems - 6 weeks
‚Ä¢ Community solar charging stations - 3 weeks
‚Ä¢ Solar water heaters for homes and facilities

**Materials Needed:**
Solar panels (polycrystalline/monocrystalline), batteries (lithium-ion storage), power banks, LED lighting systems, charge controllers, inverters

**Benefits:**
- Reduces dependence on unreliable grid
- Powers critical healthcare facilities 24/7
- Enables water pumping and purification
- Sustainable and renewable energy source`,

                infrastructure: `üèóÔ∏è **INFRASTRUCTURE SOLUTIONS**

**Immediate Actions (0-2 weeks):**
‚Ä¢ Set up temporary shelters (weatherproof tents) - 2 weeks
‚Ä¢ Establish basic sanitation facilities - 1 week
‚Ä¢ Repair critical access roads for aid delivery - 2 weeks
‚Ä¢ Deploy portable toilets and handwashing stations
‚Ä¢ Clear debris from main transportation routes

**Short-term Solutions (2-8 weeks):**
‚Ä¢ Rebuild damaged schools and hospitals - 3 months
‚Ä¢ Restore communication networks - 2 months
‚Ä¢ Rubble recycling programs - ongoing
‚Ä¢ Modular housing construction - 2 months
‚Ä¢ Water and sewage system repairs - 6 weeks

**Rubble Recycling Initiative:**
- Sort materials: concrete, steel, wood, glass
- Crush concrete into gravel for roads
- Recover steel bars for construction
- Create jobs while rebuilding

**Materials Needed:**
Temporary shelters, construction materials, sanitation equipment, concrete crushers, sorting facilities, construction tools

**NASA Technology:** High-resolution satellite imagery to assess damage and plan reconstruction priorities.`
            };

            const detectTopic = (input) => {
                const lower = input.toLowerCase();
                if (lower.match(/water|drink|thirst|well|desalination|purification/)) return 'water';
                if (lower.match(/food|hunger|nutrition|farm|agriculture|crop/)) return 'food';
                if (lower.match(/health|medical|hospital|doctor|disease|treatment/)) return 'health';
                if (lower.match(/co2|carbon|emission|environment|pollution|air|green/)) return 'co2';
                if (lower.match(/energy|power|solar|electric|fuel|generator/)) return 'energy';
                if (lower.match(/infrastructure|building|construction|road|shelter|house|rubble/)) return 'infrastructure';
                return null;
            };

            const getConversationalResponse = (input) => {
                const lower = input.toLowerCase();
                
                // Greetings
                // Bye/goodbye
if (lower.match(/^(bye|goodbye|see ya|see you|gotta go|gtg|talk later|later)$/)) {
    return "Take care! üëã Feel free to come back anytime you want to chat or learn something new. Have a great day!";
}

// That's enough / I'm done
if (lower.match(/enough|that's enough|thats enough|i'm done|im done|stop|no more/)) {
    return "No problem! I understand. If you need anything else later, I'll be here. Take care! üòä";
}

// Good/satisfied responses
if (lower.match(/^(good|great|perfect|excellent|awesome|nice|cool|ok got it|okay got it|understood)$/)) {
    return "Glad I could help! üòä Anything else you'd like to know, or are we good for now?";
}
// Laughs and reactions
if (lower.match(/^(haha|hehe|lol|lmao|hahaha|funny|üòÇ|ü§£)$/)) {
    return "Haha, glad you're in good spirits! üòÑ So, want to keep chatting or learn about something specific?";
}

// Hmm/thinking
if (lower.match(/^(hmm|hmmm|umm|ummm|interesting|i see)$/)) {
    return "Thinking it over? Take your time! If you have questions about anything, just ask. I'm here to help! ü§î";
}

// Wow/surprise
if (lower.match(/^(wow|whoa|woah|omg|oh my god|amazing|incredible)$/)) {
    return "Right?! There's a lot to take in. Want me to explain more about any topic, or just chat for a bit? üòä";
}
                if (lower.match(/^(hi|hello|hey|greetings|sup|yo)$/)) {
                    return "Hey there! üëã How are you doing today? I'm here to chat or help you learn about Gaza's humanitarian challenges. What's on your mind?";
                }
                
                // How are you
                if (lower.match(/how are you|how are u|how r u|hows it going|whats up|wassup/)) {
                    return "I'm doing well, thanks for asking! üòä I'm here and ready to help. How about you? Is there anything specific you'd like to talk about or learn?";
                }
                
                // Good/fine responses
                if (lower.match(/^(good|fine|great|okay|ok|im good|i'm good|im fine|doing well)$/)) {
                    return "That's great to hear! üòä So, would you like to learn about the humanitarian situation in Gaza, or just have a casual chat?";
                }
                
                // Not good responses
                if (lower.match(/not good|not great|bad|sad|tired|stressed/)) {
                    return "I'm sorry to hear that. üíô If you want to talk about it, I'm here to listen. Or if you need a distraction, I can share some information about important topics. What would help you right now?";
                }
                
                // Thank you
                if (lower.match(/thank|thanks|thx|ty/)) {
                    return "You're very welcome! üòä Is there anything else I can help you with?";
                }
                
                // Who are you
                if (lower.match(/who are you|what are you|tell me about yourself/)) {
                    return "I'm GAZA 101, a friendly AI assistant! I'm here to chat with you and provide information about humanitarian challenges in Gaza - covering Water, Food, Health, Energy, Infrastructure, and Environmental issues. I can be casual and friendly or dive deep into technical details. Whatever you need! üòä";
                }
                
                // What can you do
                if (lower.match(/what can you do|what do you do|how can you help|help me/)) {
                    return "I can do a few things:\n\nüí¨ Have friendly conversations (just like this!)\nüìö Share detailed information about Gaza's challenges\nüí° Explain practical solutions with timelines\nüìä Provide statistics and NASA data\n\nWant to chat casually or learn something specific?";
                }
                
                // Jokes/fun
                if (lower.match(/joke|funny|make me laugh/)) {
                    return "Haha, I'm better with facts than jokes! üòÖ But here's something cool: Did you know NASA satellites can detect underground water sources from space? Pretty amazing, right? Want to hear more interesting facts?";
                }
                
                // Compliments
                if (lower.match(/you're nice|you're cool|you're awesome|you're great|good bot/)) {
                    return "Aww, thank you! That's really kind of you to say üòä You seem pretty awesome yourself! What would you like to chat about?";
                }
                
                // Bye/goodbye
                if (lower.match(/^(bye|goodbye|see ya|see you|gotta go|gtg)$/)) {
                    return "Take care! üëã Feel free to come back anytime you want to chat or learn something new. Have a great day!";
                }
                
                // Age
                if (lower.match(/how old are you|what's your age|whats your age/)) {
                    return "I don't have an age like humans do! I'm an AI, so I'm kind of ageless. But I was created specifically to help people understand Gaza's humanitarian situation. Curious about anything else?";
                }
                
                // Where from
                if (lower.match(/where are you from|where do you live/)) {
                    return "I exist in the digital world - no specific location! But I was created to help people learn about Gaza and its challenges. Speaking of which, want to know about any specific topic?";
                }
                
                // Feelings
                if (lower.match(/do you have feelings|can you feel|are you alive/)) {
                    return "I don't have feelings the way humans do, but I'm programmed to be helpful and friendly! üòä I genuinely want to make your experience better. Is there something I can help you with today?";
                }
                
                // Name
                if (lower.match(/what's your name|whats your name|your name/)) {
                    return "I'm GAZA 101! You can think of me as your friendly guide to understanding humanitarian challenges and solutions. Nice to meet you! What should I call you?";
                }
                
                // Overview
                if (lower.match(/all|everything|overview|summary|tell me about gaza/)) {
                    return `üåç **GAZA OVERVIEW**

            Gaza faces 6 major humanitarian challenges:

            1. üíß **Water** - 96% unfit for consumption
            2. üåæ **Food** - 93% face food insecurity
            3. üè• **Health** - 72% hospitals non-functional
            4. ‚ö° **Energy** - 2-4 hours electricity daily
            5. üèóÔ∏è **Infrastructure** - 60% buildings damaged
            6. üåç **Environment** - 450K tons CO2 emissions

            Want to know more about any of these?`;
                }
                
                return null;
            };

            const handleSend = () => {
                if (!input.trim()) return;

                const userMessage = { type: 'user', text: input };
                setMessages(prev => [...prev, userMessage]);

                setTimeout(() => {
                    let response;
                    const lower = input.toLowerCase();

                    if ((lower.match(/^(yes|yeah|sure|please|yep|ok|okay)/) || lower.includes('solution')) && lastTopic) {
                        response = solutions[lastTopic];
                        setLastTopic(null);
                    }
                    else if (lower.match(/^(no|nope|not now|later|maybe later)/) && lastTopic) {
                        response = "No problem! What else would you like to discuss? I can explain any of the 6 challenges: Water, Food, Health, Energy, Infrastructure, or Environment.";
                        setLastTopic(null);
                    }
                    else {
                        const conversational = getConversationalResponse(input);
                        if (conversational) {
                            response = conversational;
                        }
                        else {
                            const topic = detectTopic(input);
                            if (topic) {
                                response = problemDescriptions[topic];
                                setLastTopic(topic);
                            }
                            else {
                                response = `I can help you understand the humanitarian situation in Gaza. Try asking about:

üíß **Water** - contamination, scarcity, purification
üåæ **Food** - malnutrition, agriculture, aid
üè• **Health** - medical crisis, diseases, mental health
‚ö° **Energy** - power shortages, solar solutions
üèóÔ∏è **Infrastructure** - damage, rebuilding, rubble recycling
üåç **Environment** - CO2, air quality, reforestation

Or ask for an "overview" to see all challenges at once!`;
                            }
                        }
                    }

                    const botResponse = { type: 'bot', text: response };
                    setMessages(prev => [...prev, botResponse]);
                }, 500);

                setInput('');
            };

            const handleKeyPress = (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleSend();
                }
            };

 if (!isOpen) {
    return (
        <button
            onClick={() => setIsOpen(true)}
            style={{
                position: 'fixed',
                bottom: '24px',
                right: '24px',
                background: 'linear-gradient(135deg, rgb(138, 43, 226), rgb(187, 134, 252))',
                color: 'white',
                padding: '18px',
                borderRadius: '50%',
                border: '3px solid rgba(255, 255, 255, 0.3)',
                cursor: 'pointer',
                boxShadow: '0 0 30px rgba(138, 43, 226, 0.8), 0 8px 25px rgba(0,0,0,0.4)',
                zIndex: 9999,
                transition: 'all 0.3s ease',
                width: '70px',
                height: '70px',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center'
            }}
            onMouseEnter={(e) => {
                e.target.style.transform = 'scale(1.15)';
                e.target.style.boxShadow = '0 0 40px rgba(187, 134, 252, 1), 0 12px 35px rgba(0,0,0,0.5)';
            }}
            onMouseLeave={(e) => {
                e.target.style.transform = 'scale(1)';
                e.target.style.boxShadow = '0 0 30px rgba(138, 43, 226, 0.8), 0 8px 25px rgba(0,0,0,0.4)';
            }}
        >
            <MessageCircle size={32} />
        </button>
    );
}

            return (
                <div 
                    style={{
                        position: 'fixed',
                        bottom: '24px',
                        right: '24px',
                        width: '420px',
                        height: '650px',
                        background: 'rgba(30, 15, 50, 0.95)',
                        backdropFilter: 'blur(10px)',
                        border: '1px solid rgba(138, 43, 226, 0.3)',
                        borderRadius: '16px',
                        boxShadow: '0 15px 40px rgba(138, 43, 226, 0.4)',
                        display: 'flex',
                        flexDirection: 'column',
                        zIndex: 9999
                    }}
                >
                    {/* Header */}
                    <div 
                        style={{
                            background: 'linear-gradient(45deg, rgb(138, 43, 226), rgb(147, 112, 219))',
                            padding: '16px',
                            borderTopLeftRadius: '16px',
                            borderTopRightRadius: '16px',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'space-between',
                            boxShadow: '0 4px 15px rgba(138, 43, 226, 0.4)'
                        }}
                    >
                        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
                            <div style={{ background: 'rgba(255, 255, 255, 0.2)', padding: '8px', borderRadius: '50%' }}>
                                <Bot size={24} className="text-white" />
                            </div>
                            <div>
                                <h3 style={{ color: 'white', fontWeight: 'bold', margin: 0 }}>GAZA 101 Assistant</h3>
                                <p style={{ color: 'rgb(233, 213, 255)', fontSize: '12px', margin: 0 }}>Crisis Information & Solutions</p>
                            </div>
                        </div>
                        <button
                            onClick={() => setIsOpen(false)}
                            style={{
                                color: 'white',
                                background: 'transparent',
                                border: 'none',
                                padding: '8px',
                                borderRadius: '50%',
                                cursor: 'pointer',
                                transition: 'background 0.3s'
                            }}
                            onMouseEnter={(e) => e.target.style.background = 'rgba(255,255,255,0.2)'}
                            onMouseLeave={(e) => e.target.style.background = 'transparent'}
                        >
                            <X size={20} />
                        </button>
                    </div>

                    {/* Messages */}
                    <div 
                        style={{
                            flex: 1,
                            overflowY: 'auto',
                            padding: '16px',
                            display: 'flex',
                            flexDirection: 'column',
                            gap: '16px'
                        }}
                    >
                        {messages.map((msg, idx) => (
                            <div
                                key={idx}
                                style={{
                                    display: 'flex',
                                    gap: '8px',
                                    justifyContent: msg.type === 'user' ? 'flex-end' : 'flex-start'
                                }}
                            >
                                {msg.type === 'bot' && (
                                    <div style={{
                                        background: 'rgb(138, 43, 226)',
                                        padding: '8px',
                                        borderRadius: '50%',
                                        width: '32px',
                                        height: '32px',
                                        display: 'flex',
                                        alignItems: 'center',
                                        justifyContent: 'center',
                                        flexShrink: 0
                                    }}>
                                        <Bot size={16} className="text-white" />
                                    </div>
                                )}
                                <div
                                    style={{
                                        maxWidth: '80%',
                                        padding: '12px',
                                        borderRadius: '16px',
                                        borderBottomLeftRadius: msg.type === 'bot' ? 0 : '16px',
                                        borderBottomRightRadius: msg.type === 'user' ? 0 : '16px',
                                        whiteSpace: 'pre-line',
                                        background: msg.type === 'user' 
                                            ? 'linear-gradient(45deg, rgb(138, 43, 226), rgb(147, 112, 219))'
                                            : 'rgba(138, 43, 226, 0.2)',
                                        border: msg.type === 'bot' ? '1px solid rgba(138, 43, 226, 0.3)' : 'none',
                                        color: msg.type === 'user' ? 'white' : 'rgb(233, 213, 255)'
                                    }}
                                >
                                    {msg.text}
                                </div>
                                {msg.type === 'user' && (
                                    <div style={{
                                        background: 'rgb(138, 43, 226)',
                                        padding: '8px',
                                        borderRadius: '50%',
                                        width: '32px',
                                        height: '32px',
                                        display: 'flex',
                                        alignItems: 'center',
                                        justifyContent: 'center',
                                        flexShrink: 0
                                    }}>
                                        <User size={16} className="text-white" />
                                    </div>
                                )}
                            </div>
                        ))}
                        <div ref={messagesEndRef} />
                    </div>

                    {/* Input */}
                    <div style={{ padding: '16px', borderTop: '1px solid rgba(138, 43, 226, 0.3)' }}>
                        <div style={{ display: 'flex', gap: '8px' }}>
                            <input
                                type="text"
                                value={input}
                                onChange={(e) => setInput(e.target.value)}
                                onKeyPress={handleKeyPress}
                                placeholder="Ask about water, food, health..."
                                style={{
                                    flex: 1,
                                    padding: '12px 16px',
                                    borderRadius: '12px',
                                    background: 'rgba(138, 43, 226, 0.2)',
                                    border: '1px solid rgba(138, 43, 226, 0.3)',
                                    color: 'white',
                                    outline: 'none',
                                    fontSize: '14px'
                                }}
                                onFocus={(e) => {
                                    e.target.style.borderColor = 'rgb(187, 134, 252)';
                                    e.target.style.boxShadow = '0 0 15px rgba(138, 43, 226, 0.3)';
                                }}
                                onBlur={(e) => {
                                    e.target.style.borderColor = 'rgba(138, 43, 226, 0.3)';
                                    e.target.style.boxShadow = 'none';
                                }}
                            />
                            <button
                                onClick={handleSend}
                                disabled={!input.trim()}
                                style={{
                                    padding: '12px',
                                    borderRadius: '12px',
                                    background: input.trim() 
                                        ? 'linear-gradient(45deg, rgb(138, 43, 226), rgb(147, 112, 219))'
                                        : 'rgba(138, 43, 226, 0.3)',
                                    border: 'none',
                                    color: 'white',
                                    cursor: input.trim() ? 'pointer' : 'not-allowed',
                                    opacity: input.trim() ? 1 : 0.5,
                                    boxShadow: input.trim() ? '0 4px 15px rgba(138, 43, 226, 0.4)' : 'none',
                                    transition: 'all 0.3s'
                                }}
                                onMouseEnter={(e) => {
                                    if (input.trim()) e.target.style.transform = 'scale(1.05)';
                                }}
                                onMouseLeave={(e) => {
                                    e.target.style.transform = 'scale(1)';
                                }}
                            >
                                <Send size={20} />
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('chatbot-root'));
        root.render(<GazaChatbot />);
    </script>
    
</body>
</html>